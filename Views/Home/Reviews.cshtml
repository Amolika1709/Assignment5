@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<main class="main">
    <section class="hero">
        <h2>Read and Share Reviews</h2>
        <p>Explore book reviews by readers like you or add your own insights for others to discover.</p>
        <form>
            <select id="bookDropdown" onchange="filterReviews()">
                <option value="all">Select a book to filter reviews</option>
                <option value="The Lord of the Rings">The Lord of the Rings</option>
                <option value="Pride and Prejudice">Pride and Prejudice</option>
                <option value="The Hitchhiker's Guide to the Galaxy">The Hitchhiker's Guide to the Galaxy</option>
                <option value="A Brief History of Time">A Brief History of Time</option>
            </select>
        </form>
    </section>

    <section class="reviews-list">
        <h3>Reviews</h3>
        <div id="reviewsContainer">
            <article class="review">
                <h4>The Lord of the Rings</h4>
                <p>"A timeless adventure! Absolutely captivating from start to finish." - John Doe</p>
                <button class="review-button">Edit</button>
                <button class="review-button">Delete</button>
            </article>
            <article class="review">
                <h4>Death Note</h4>
                <p>"A gripping tale of power and morality. Tsugumi Ohba's storytelling is masterful." - Dwayne Johnson</p>
                <button class="review-button">Edit</button>
                <button class="review-button">Delete</button>
            </article>
            <article class="review">
                <h4>The Hitchhiker's Guide to the Galaxy</h4>
                <p>"Hilariously absurd and delightfully witty. A must-read for any sci-fi fan." - Kyle Ray</p>
                <button class="review-button">Edit</button>
                <button class="review-button">Delete</button>
            </article>
            <!-- Add more dummy reviews as needed -->
        </div>
    </section>


    <section class="add-review">
        <h3>Add a Review</h3>
        <form asp-action="AddReview" method="post">
            <label for="bookToReview">Choose a book:</label>
            <select id="bookToReview" name="bookToReview">
                <option value="The Lord of the Rings">The Lord of the Rings</option>
                <option value="Pride and Prejudice">Pride and Prejudice</option>
                <option value="The Hitchhiker's Guide to the Galaxy">The Hitchhiker's Guide to the Galaxy</option>
                <option value="A Brief History of Time">A Brief History of Time</option>
            </select>
            <textarea name="reviewText" placeholder="Write your review here..."></textarea>
            <button type="submit" class="review-button">Submit Review</button>
        </form>
    </section>
</main>

@section Scripts {
    <script>
        function filterReviews() {
            var selectedBook = document.getElementById("bookDropdown").value;
            var reviews = document.querySelectorAll('.review');
            reviews.forEach(review => {
                if (review.querySelector('h4').textContent === selectedBook || selectedBook === "all") {
                    review.style.display = 'block';
                } else {
                    review.style.display = 'none';
                }
            });
        }
    </script>
}
